'use client';































import { useState, useEffect } from 'react';















import Header from '../../components/Header';















import Footer from '../../components/Footer';















import DynamicSlider from '../../components/DynamicSlider';















import ReviewSection from '../../components/ReviewSection';















import FAQSection from '../../components/FAQSection';















import MortgageCharts from '../../components/MortgageCharts';































export default function MortgageInterestCalculator() {















  const [homePrice, setHomePrice] = useState(300000);















  const [downPayment, setDownPayment] = useState(60000);















  const [interestRate, setInterestRate] = useState(3.5);















  const [loanTerm, setLoanTerm] = useState(30);















  const [propertyTax, setPropertyTax] = useState(3000);















  const [homeInsurance, setHomeInsurance] = useState(1200);















  const [monthlyPayment, setMonthlyPayment] = useState<number>(0);















  const [totalInterestPaid, setTotalInterestPaid] = useState<number>(0);















  const [totalTaxAndInsurance, setTotalTaxAndInsurance] = useState<number>(0);































  // Calculate results automatically when values change















  useEffect(() => {















    calculateMortgage();















  }, [homePrice, downPayment, interestRate, loanTerm, propertyTax, homeInsurance]);































  const calculateMortgage = () => {















    const principal = homePrice - downPayment;















    const calculatedInterestRate = interestRate / 100 / 12;















    const numberOfPayments = loanTerm * 12;















    const monthlyPropertyTax = propertyTax / 12;















    const monthlyHomeInsurance = homeInsurance / 12;































    if (principal > 0 && calculatedInterestRate > 0 && numberOfPayments > 0) {















      const monthlyPrincipalInterest = 















        principal * 















        (calculatedInterestRate * Math.pow(1 + calculatedInterestRate, numberOfPayments)) / 















        (Math.pow(1 + calculatedInterestRate, numberOfPayments) - 1);















      















      const totalInterest = (monthlyPrincipalInterest * numberOfPayments) - principal;















      const monthlyTaxAndInsurance = monthlyPropertyTax + monthlyHomeInsurance;















      const totalMonthlyPayment = monthlyPrincipalInterest + monthlyTaxAndInsurance;































      setMonthlyPayment(Number(totalMonthlyPayment.toFixed(2)));















      setTotalInterestPaid(Number(totalInterest.toFixed(2)));















      setTotalTaxAndInsurance(Number((monthlyTaxAndInsurance * numberOfPayments).toFixed(2)));















    }















  };































  const faqData = [















    {















      question: "How is mortgage interest calculated?",















      answer: "Mortgage interest is calculated using an amortization formula that factors in the loan amount, interest rate, and loan term. The monthly payment includes both principal and interest, with earlier payments having a higher proportion of interest."















    },















    {















      question: "What is PMI and when is it required?",















      answer: "Private Mortgage Insurance (PMI) is typically required when your down payment is less than 20% of the home's value. It protects the lender if you default on the loan."















    },















    {















      question: "How does the down payment affect my mortgage?",















      answer: "A larger down payment reduces your loan amount, which leads to lower monthly payments and less total interest paid over the life of the loan. It can also help you avoid PMI."















    },















    {















      question: "Should I choose a 15 or 30-year mortgage?",















      answer: "A 15-year mortgage typically has lower interest rates and less total interest paid, but higher monthly payments. A 30-year mortgage offers lower monthly payments but costs more in total interest over the loan term."















    }















  ];































  return (















    <div className="flex flex-col min-h-screen bg-gray-50">















      <Header />















      <main className="flex-grow container mx-auto px-4 py-8">















        <h1 className="text-4xl font-bold mb-4 text-golden-700 text-center">















          Mortgage Interest Calculator















        </h1>















        















        <p className="text-gray-600 text-center mb-8 max-w-2xl mx-auto">















          Calculate your monthly mortgage payments, including principal, interest, taxes, and insurance.















        </p>































        <div className="max-w-2xl mx-auto bg-white shadow-md rounded-lg p-8 mb-8">















          <div className="space-y-6">















            <DynamicSlider















              label="Home Price ($)"















              value={homePrice}















              onChange={setHomePrice}















              min={50000}















              max={1000000}















              step={5000}















              defaultValue={300000}















            />































            <DynamicSlider















              label="Down Payment ($)"















              value={downPayment}















              onChange={setDownPayment}















              min={0}















              max={homePrice}















              step={1000}















              defaultValue={60000}















            />































            <DynamicSlider















              label="Interest Rate (%)"















              value={interestRate}















              onChange={setInterestRate}















              min={0.1}















              max={15}















              step={0.1}















              defaultValue={3.5}















            />































            <DynamicSlider















              label="Loan Term (Years)"















              value={loanTerm}















              onChange={setLoanTerm}















              min={1}















              max={50}
















              step={1}















              defaultValue={30}















            />































            <DynamicSlider















              label="Annual Property Tax ($)"















              value={propertyTax}















              onChange={setPropertyTax}















              min={0}















              max={10000}















              step={100}















              defaultValue={3000}















            />































            <DynamicSlider















              label="Annual Home Insurance ($)"















              value={homeInsurance}















              onChange={setHomeInsurance}















              min={0}















              max={5000}















              step={100}















              defaultValue={1200}















            />































            <div className="mt-8 bg-golden-50 p-6 rounded-lg">















              <h2 className="text-xl font-semibold mb-4 text-golden-800">Mortgage Summary</h2>















              <div className="grid grid-cols-1 md:grid-cols-3 gap-4">















                <div className="bg-white p-4 rounded-lg shadow">















                  <p className="text-gray-600">Monthly Payment</p>















                  <p className="text-2xl font-bold text-golden-600">















                    ${monthlyPayment.toLocaleString()}















                  </p>















                </div>















                <div className="bg-white p-4 rounded-lg shadow">















                  <p className="text-gray-600">Total Interest</p>















                  <p className="text-2xl font-bold text-golden-600">















                    ${totalInterestPaid.toLocaleString()}















                  </p>















                </div>















                <div className="bg-white p-4 rounded-lg shadow">















                  <p className="text-gray-600">Total Tax & Insurance</p>















                  <p className="text-2xl font-bold text-golden-600">















                    ${totalTaxAndInsurance.toLocaleString()}















                  </p>















                </div>















              </div>















            </div>















          </div>















        </div>































        <MortgageCharts 
          principal={homePrice - downPayment}
          totalInterest={totalInterestPaid}
          totalTaxAndInsurance={totalTaxAndInsurance}
          loanTerm={loanTerm}
        />






















<div className="max-w-2xl mx-auto mt-8 bg-white shadow-md rounded-lg p-8">
          <h2 className="text-2xl font-bold mb-4 text-golden-700">About The Calculator</h2>
          <div className="prose max-w-none">
            <p className="mb-4">
              Our mortgage interest calculator helps you understand the complete cost of your home loan, including principal, interest, taxes, and insurance (PITI). Make informed decisions about your mortgage by seeing exactly how your payments are structured.
            </p>
            <h3 className="text-xl font-semibold mb-3 text-gray-700">How Mortgage Interest Works</h3>
            <p className="mb-4">
              Mortgage interest is calculated monthly based on your remaining loan balance. Through amortization, early payments are mostly interest while later payments are primarily principal. Understanding this helps you plan your home financing strategy.
            </p>
            <h3 className="text-xl font-semibold mb-3 text-gray-700">Key Features</h3>
            <ul className="list-disc pl-6 mb-4">
              <li>Calculate complete monthly PITI payments</li>
              <li>See total interest paid over loan term</li>
              <li>Compare different down payment amounts</li>
              <li>Understand tax and insurance impacts</li>
              <li>Visualize payment breakdowns with charts</li>
            </ul>
            <h3 className="text-xl font-semibold mb-3 text-gray-700">Mortgage Tips</h3>
            <ul className="list-disc pl-6 mb-4">
              <li>Make a larger down payment to reduce interest</li>
              <li>Compare 15-year vs 30-year terms</li>
              <li>Consider points to lower your rate</li>
              <li>Factor in all homeownership costs</li>
              <li>Shop multiple lenders for best rates</li>
            </ul>
          </div>
        </div>









        <ReviewSection calculatorType="mortgage-interest" />































        <FAQSection faqs={faqData} />















      </main>















      <Footer />















    </div>















  );















}






























